<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  /**
   * @param {number[][]} obstacleGrid
   * @return {number}
   */
  var f = uniquePathsWithObstacles = function(obstacleGrid) {
    const map = obstacleGrid;
    const [m, n] = [map.length, map[0].length];
    if (map[m - 1][n - 1]) return 0;
    const dp = new Array(m).fill(0).map(() => []);
    for (let y = 0; y < m; y++) {
      for (let x = 0; x < n; x++) {
        if (map[y][x]) dp[y][x] = 0;
        else if (y === 0 && x === 0) dp[y][x] = 1;
        else {
          dp[y][x] = (dp[y - 1]?.[x] ?? 0) + (dp[y]?.[x - 1] ?? 0);
        }
      }
    }
    return dp[m - 1][n - 1];
  };
</script>
</body>
</html>